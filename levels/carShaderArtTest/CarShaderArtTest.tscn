[gd_scene load_steps=10 format=3 uid="uid://dht3itt6v8jic"]

[ext_resource type="PackedScene" uid="uid://cc5tcvmhfg74c" path="res://components/Models/TestPlane/plane.tscn" id="1_7i035"]
[ext_resource type="PackedScene" uid="uid://bhq8bb1ua5bhd" path="res://components/Models/Sedan/sedan.tscn" id="2_1t4in"]
[ext_resource type="PackedScene" uid="uid://m8mqr5fyqgje" path="res://components/Cameras/centerCamera/CenterCamera.tscn" id="3_sg6c3"]
[ext_resource type="Shader" path="res://levels/carShaderArtTest/pixelshadertest.gdshader" id="4_5cd0v"]
[ext_resource type="PackedScene" uid="uid://cxacmgyxadq2k" path="res://components/Models/Trees/GLTF format/fence.glb" id="5_k4pm8"]
[ext_resource type="PackedScene" uid="uid://bvtg2apc0jv8c" path="res://components/Models/Trees/GLTF format/tree.glb" id="6_tn2hy"]
[ext_resource type="PackedScene" uid="uid://dskjo0p3unb6r" path="res://components/Models/Trees/GLTF format/lantern.glb" id="7_1nb3e"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_knxmn"]
render_priority = 0
shader = ExtResource("4_5cd0v")
shader_parameter/depth_threshold = 0.05
shader_parameter/reverse_depth_threshold = 0.25
shader_parameter/normal_threshold = 0.6
shader_parameter/darken_amount = 0.3
shader_parameter/lighten_amount = 1.5
shader_parameter/normal_edge_bias = Vector3(1, 1, 1)
shader_parameter/light_direction = Vector3(-0.96, -0.18, 0.2)

[sub_resource type="QuadMesh" id="QuadMesh_kciu5"]
material = SubResource("ShaderMaterial_knxmn")
flip_faces = true
size = Vector2(2, 2)

[node name="CarShaderArtTest" type="Node3D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
stretch_shrink = 2

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(960, 540)
render_target_update_mode = 4

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 0.643723, 0.765259, 0, -0.765259, 0.643723, 0, 17.4458, 19.0313)
light_energy = 2.0
shadow_enabled = true

[node name="Ground" parent="SubViewportContainer/SubViewport" instance=ExtResource("1_7i035")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 2.08165e-12, 2.08165e-12)

[node name="sedan" parent="SubViewportContainer/SubViewport" instance=ExtResource("2_1t4in")]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, 2.08165e-12, 2.08165e-12, 2.08165e-12)

[node name="CenterCamera3D" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("centerObject") instance=ExtResource("3_sg6c3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.53852, 0.0146324, 2.58451)
centerObject = NodePath("../sedan")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/CenterCamera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.53852, -0.0146324, -2.58451)
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_kciu5")
skeleton = NodePath("../..")

[node name="fence2" parent="." instance=ExtResource("5_k4pm8")]
transform = Transform3D(-8.74228e-08, 6.97574e-16, 2, 6.97574e-16, 2, -6.97574e-16, -2, 6.97574e-16, -8.74228e-08, -1.30296, 0.0146324, -2.69429)

[node name="fence2" parent="fence2" instance=ExtResource("5_k4pm8")]
transform = Transform3D(1, -3.48787e-16, 0, 3.48787e-16, 1, -3.48787e-16, 0, 3.48787e-16, 1, 0, 0, 0.934975)

[node name="fence2" parent="fence2/fence2" instance=ExtResource("5_k4pm8")]
transform = Transform3D(1, -3.48787e-16, 0, 3.48787e-16, 1, -3.48787e-16, 0, 3.48787e-16, 1, 0, 0, 0.934975)

[node name="tree2" parent="." instance=ExtResource("6_tn2hy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.35699, 0.0146324, -2.43059)

[node name="tree3" parent="." instance=ExtResource("6_tn2hy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.265294, 0.0146324, -2.74395)

[node name="tree4" parent="." instance=ExtResource("6_tn2hy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.65662, 0.0146324, -2.87604)

[node name="tree5" parent="." instance=ExtResource("6_tn2hy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.82609, 0.0146324, -2.76996)

[node name="lantern2" parent="." instance=ExtResource("7_1nb3e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.825041, 0.0146324, 1.84336)

[node name="lantern3" parent="." instance=ExtResource("7_1nb3e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.591936, 0.0146324, 1.82642)

[node name="lantern4" parent="." instance=ExtResource("7_1nb3e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.93273, 0.0146324, 1.48485)
